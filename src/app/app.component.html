<mat-progress-bar *ngIf="(loading$ | async)" mode="indeterminate" color="primary" class="top-progress"></mat-progress-bar>

<!-- Global centered spinner overlay (appears during HTTP requests) -->
<div class="global-loading-overlay" *ngIf="(loading$ | async) && !isLoading">
    <div class="spinner-card" role="status" aria-live="polite">
        <mat-progress-spinner mode="indeterminate" diameter="64" color="primary"></mat-progress-spinner>
    </div>
</div>

<!-- Initial app loading overlay (keeps custom branding) -->
<div class="app-loading" *ngIf="isLoading">
        <div class="loading-card">
                <img src="assets/loading.svg" alt="Carregando" />
                <p>Carregando...</p>
        </div>
</div>

<app-header *ngIf="showHeader"></app-header>
<div [@routeAnimations]="prepareRoute(outlet)" class="route-container" appPullToRefresh (refresh)="onPullRefresh()">
    <router-outlet #outlet="outlet"></router-outlet>
</div>
